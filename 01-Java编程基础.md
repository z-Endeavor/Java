# Java编程基础



## Java基础

### 注释

- 单行注释：注释一行文字（// 注释）
- 多行注释：注释一段文字（/* 注释 */）
- 文档注释：JavaDoc，可以配合参数使用功能 （/** 注释 */）



### 标识符

Java的所有的组成部分都需要名字。类名、变量名以及方法名都被称为标识符。

Java定义了如下**关键字**：

| abstract       | assert           | boolean       | break          | byte       |
| -------------- | ---------------- | ------------- | -------------- | ---------- |
| **case**       | **catch**        | **char**      | **class**      | **const**  |
| **continue**   | **default**      | **do**        | **double**     | **else**   |
| **enum**       | **extends**      | **final**     | **finally**    | **float**  |
| **for**        | **goto**         | **if**        | **implements** | **import** |
| **instanceof** | **int**          | **interface** | **long**       | **native** |
| **new**        | **package**      | **private**   | **protected**  | **public** |
| **return**     | **strictfp**     | **short**     | **static**     | **super**  |
| **switch**     | **synchronized** | **this**      | **throw**      | **throws** |
| **transient**  | **try**          | **void**      | **volatile**   | **while**  |

- 所有的标识符都应该以字母（A-Z或者a-z）美元符（$）、或者下划线（_）开始
- 首字符之后可以是字母（A-Z或者a-z），美元符（$）、下划线（_）或数字的任何字符组合
- **不能使用关键字作为变量名或方法名**
- Java是一种强类型语言，标识符是**大小写敏感**的
- 不建议用中文和拼音

> 强类型语言：要求变量的使用要严格符合规定，所有变量都必须先定义后使用。



### 数据类型

- **基本类型（primitive type）**
  - 数值类型
    - 整数类型
      - byte：1个字节，-128-127
      - short：2个字节，-32768-32767
      - int：4个字节，-2147483648-2147483647
      - long：8个字节，-9223372036854775808-9223372036854775807
    - 浮点类型
      - float：4个字节
      - double：8个字节
    - 字符类型
      - char：2个字节
  - boolean类型：占1位，true/false

> Long类型一般要在数字后面加个L，如 `long num = 18L;`
>
> float类型一般要在数字后面加个F，如`float num = 52.1F;`

- **引用类型（reference type）**
  - 类
  - 接口
  - 数组

#### ☆ 拓展问题：

**1、整数类型** —— 进制问题

​	二进制 - 0b、十进制、八进制 - 0、十六进制 - 0x

**2、浮点类型** —— 精度丢失

​	<u>最好完全避免使用浮点数进行比较</u>。（可以用BigDecimal数学工具类）

**3、字符类型** —— 编码和转义

​	Unicode编码（2字节）：0 - 65536。所有的字符本质还是数字。

​	转义字符：\t - 制表符、\n - 换行 ……



### 类型转换

由于Java是强类型语言，所以在进行有些运算的时候，需要用到类型转换。

不同类型的数据先转换为同一类型，然后进行运算。

```java
低 —————————————————————————————————————————————>高

byte, short, char -> int -> long -> float -> double
```

- 强制类型转换：**高->低**，（类型）变量名
- 自动类型转换：**低->高**

> 1. 不能对布尔值进行转换
>
> 2. 不能把对象类型转换成不相干的类型
> 3. 在把高容量转换到低容量的时候，强制转换
> 4. 转换过程可能存在**内存溢出**，或者**精度问题**

#### ☆ 拓展问题：

**1、溢出问题**

​	操作大数时，要注意数据类型的范围，防止溢出。

> JDK7新特性，数字之间可以用下划线分割。如：int n = 20_0000_0000



### 变量

Java是一种强类型语言，每个变量都必须声明其类型。

Java变量是程序中最基本的存储单元，其要素包括<u>变量名</u>，<u>变量类型</u>和<u>作用域</u>。

> 1. 每个变量都有类型，类型可以是基本类型，也可以是引用类型。
> 2. 变量名必须是合法的标识符。
> 3. 变量声明是一条完整的语句，因此每一个声明都必须以分号结束。

#### 变量作用域

1. 类变量：static关键字，从属于<u>类</u>。
2. 实例变量：类内，从属于<u>对象</u>。如果不自行初始化，则为这个类型的默认值。
   - 数值类型的默认值为0。
   - 布尔值的默认值为false。
   - 除了基本类型之外，其余类型默认值为null。
3. 局部变量：方法或语句块内。使用前必须声明和初始化值。

#### 常量

特殊的变量，初始化后在程序运行过程中<u>不能再改变值</u>，不会变动的值。

常量名一般使用**大写字符**。

使用**final**关键词定义。

#### 变量的命令规范

- 所有变量、方法、类名：见名知意。
- 类成员变量：首字母小写和驼峰原则（mouthSalary）
- 局部变量：首字母小写和驼峰原则
- 常量：大写字母和下划线
- 类名：首字母大写和驼峰原则
- 方法名：首字母小写和驼峰原则



### 运算符

- **算术运算符**：+、-、*、/、%、++、--
- **赋值运算符**：=
- **关系运算符**：>、<、>=、<=、==、!=、instanceof
- **逻辑运算符**：&&、||、！
- 位运算符：&、|、^、~、>>、<<、>>>
- 条件运算符：？：
- 扩展赋值运算符：+=、-+、*=、/=

> 如果有long类型在其中运算，则结果类型为long类型。没有long类型时，所有非int类型转为int类型。

#### 自增自减运算符（++、--）

一元运算符。

b = a++：先给b赋值，再自增。

b = ++a：先自增，再给b赋值。

#### 幂运算

使用Math数学工具类。如Math.pow（2,3）即为2^3。

#### 逻辑运算符

&&与运算：有假为假

> 短路运算：若a为假，则a&&b运算不执行b。如int a = 4; boolean b = (a<3)&&(a++<3);，则**a++不执行，a的值还为4**。

||或运算：有真为真

！非运算：假为真，真为假

异或运算：同号为假，异号为真

#### 位运算

与逻辑运算类似。**效率极高**！

左移运算<<：相当于*2。

右移运算>>：相当于/2。

#### ☆ 拓展问题：

**1、字符串连接符 +**

​	若输出前面有字符串类型，则后面变量均转换成字符串类型。

```java
int a = 10;
int b = 20;
System.out.println(""+a+b); //输出为1020
System.out.println(a+b+""); //输出为30
```

**2、运算符优先级**



### 包机制

为了更好地组织类，Java提供了包机制，用于区别类名的命名空间。

包的本质就是“文件夹”。

```java
// 包的语法格式
package pkg1[.pkg2[.pkg3...]];
```

一般用**公司域名倒置**作为包名。

```java
// 导入其他包 (*代表导入所有类)
import package1[.package2...].(classname|*);
```



### JavaDoc

javadoc命令用来生成自己的API文档。

参数信息：

- @author 作者名 
- @version 版本号
- @since 指明需要最早使用的jdk版本
- @param 参数名
- @return 返回值情况
- @throws 异常抛出情况



## Java流程控制

### 用户交互Scanner

Scanner类可以来<u>获取用户的输入</u>。

```java
// 创建一个扫描器对象，用于接收键盘数据
Scanner scanner = new Scanner(System.in);
// 判断用户有没有输入字符串，使用hasNext()和hasNextLine()判断是否还有输入的数据
if (scanner.hasNextLine()) {
    // 使用next()和nextLine()获取输入的字符串
    String str = scanner.nextLine();
}

// 属于IO流的类如果不关闭会一直占用资源，最好用完就关闭
scanner.close();
```

> next()和nextLine()的区别：
>
> **next():**
>
> 		1. 一定要读取到有效字符后才可以结束输入。
>   		2. 对输入有效字符之前遇到的空白，next()方法会自动将其去掉。
>   		3. 只有输入有效字符后才将其后面输入的空白作为分隔符或者结束符。
>   		4. next()<u>不能得到带有空格的字符串</u>。
>
> **nextLine():**
>
> 	1. <u>以Enter为结束符</u>，返回的是输入回车之前的所有字符。
>  	2. 可以获得空白。



### 顺序结构

Java的基本结构就是顺序结构，顺序结构是最简单的算法结构。



### 选择结构

- if单选择结构

  ```java
  if (布尔表达式) {
  	// 如果布尔表达式为true将执行的语句
  }
  ```

- if双选择结构

  ```java
  if (布尔表达式) {
  	// 如果布尔表达式为true
  } else {
      // 如果布尔表达式为false
  }
  ```

- if多选择结构

  ```java
  if (布尔表达式1) {
  	// 如果布尔表达式1为true
  } else if (布尔表达式2) {
      // 如果布尔表达式2为true
  } else if (布尔表达式3) {
      // 如果布尔表达式3为true
  } else {
      // 如果以上布尔表达式都不为true
  }
  ```

- 嵌套的if结构

  ```java
  if (布尔表达式1) {
  	// 如果布尔表达式1为true
      if (布尔表达式2) {
      	// 如果布尔表达式2为true
  	}
  }
  ```

- switch多选择结构

  ```java
  switch(expression) {
      case value:
          // 语句
          break; // 可选
      case value:
          // 语句
          break; //可选
      // 可以有任意数量的case语句
      default: // 可选
          // 语句
  }
  ```

  



